<!DOCTYPE html>
<html lang="en-us">
    <head>
      <meta charset="utf-8">
      <title> Level shifters | Embedded Systems Design </title>  <!-- mobile responsive meta -->
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="Embedded Systems Design Blog">
  <meta name="author" content="ESD Faculty">
  <meta name="generator" content="Hugo 0.108.0">

  <!-- plugins -->
  
  <link rel="stylesheet" href="https://embedded-systems-design.github.io/plugins/bootstrap/bootstrap.min.css ">
  
  <link rel="stylesheet" href="https://embedded-systems-design.github.io/plugins/slick/slick.css ">
  
  <link rel="stylesheet" href="https://embedded-systems-design.github.io/plugins/themify-icons/themify-icons.css ">
  
  <link rel="stylesheet" href="https://embedded-systems-design.github.io/plugins/venobox/venobox.css ">
  
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.5.0/font/bootstrap-icons.css ">
  

  <!-- Main Stylesheet -->
  
  <link rel="stylesheet" href="https://embedded-systems-design.github.io/scss/style.min.css" media="screen">

  <!--Favicon-->
  <link rel="shortcut icon" href="https://embedded-systems-design.github.io/images/favicon.png " type="image/x-icon">
  <link rel="icon" href="https://embedded-systems-design.github.io/images/favicon.png " type="image/x-icon">

  <!-- google analitycs -->
  <script>
    (function (i, s, o, g, r, a, m) {
      i['GoogleAnalyticsObject'] = r;
      i[r] = i[r] || function () {
        (i[r].q = i[r].q || []).push(arguments)
      }, i[r].l = 1 * new Date();
      a = s.createElement(o),
        m = s.getElementsByTagName(o)[0];
      a.async = 1;
      a.src = g;
      m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', '', 'auto');
    ga('send', 'pageview');
  </script>
<script>
  MathJax = {
    tex: {
      inlineMath: [['$', '$'], ['\\(', '\\)']],
      displayMath: [['$$','$$'], ['\\[', '\\]']],
      processEscapes: true,
      processEnvironments: true
    },
    options: {
      skipHtmlTags: ['script', 'noscript', 'style', 'textarea', 'pre']
    }
  };

  window.addEventListener('load', (event) => {
      document.querySelectorAll("mjx-container").forEach(function(x){
        x.parentElement.classList += 'has-jax'})
    });

</script>
<script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
<script type="text/javascript" id="MathJax-script" async
  src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>

    </head>

    <body>
<!-- preloader start -->
<div class="preloader">
  
</div>
<!-- preloader end -->
<!-- navigation -->
<header class="navigation">
  <div class="container">
    
    <nav class="navbar navbar-expand-lg navbar-white bg-transparent border-bottom pl-0">
      <a class="navbar-brand mobile-view" href="https://embedded-systems-design.github.io"><img class="img-fluid"
          src="https://embedded-systems-design.github.io/images/esd6.png" alt="Embedded Systems Design"></a>
      <button class="navbar-toggler border-0" type="button" data-toggle="collapse" data-target="#navigation">
        <i class="ti-menu"></i>
      </button>

      <div class="collapse navbar-collapse text-center" id="navigation">
        <div class="desktop-view">
          <ul class="navbar-nav mr-auto">
            
            <li class="nav-item">
              <a class="nav-link" href="https://github.com/embedded-systems-design"><i class="ti-github"></i></a>
            </li>
            
          </ul>
        </div>

        <a class="navbar-brand mx-auto desktop-view" href="https://embedded-systems-design.github.io"><img class="img-fluid"
            src="https://embedded-systems-design.github.io/images/esd6.png" alt="Embedded Systems Design"></a>

        <ul class="navbar-nav">
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false">
              KiCad
            </a>
            <div class="dropdown-menu">
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/kicad/">All KiCad Posts</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/kicad-installation-and-setup/">Install and Setup</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/kicad/kicad-schematic-design/">Schematic Design Pages</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/kicad/transferring-kicad-schematics-to-pcb/">Transferring Schematics to PCB</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/kicad/kicad-pcb-design/">KiCad PCB Design Pages</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/packaging-kicad-files-for-submission/">Packaging Files</a>
              
            </div>
          </li>
          
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false">
              Cadence
            </a>
            <div class="dropdown-menu">
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/cadence/">All Cadence Posts</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/cadence/getting-started/">Getting Started</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/cadence/schematics/">Schematics</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/cadence/schematics-to-pcbs/">Cadence Schematics to PCB</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/cadence/designing-pcbs/">Designing PCBs</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/cadence/manufacturing-pcbs/">Manufacturing PCBs</a>
              
            </div>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://embedded-systems-design.github.io/circuit-design/">Circuit Design</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://embedded-systems-design.github.io/parts/">Parts</a>
          </li>
          
          
          
          <li class="nav-item">
            <a class="nav-link" href="https://embedded-systems-design.github.io/misc/">Misc</a>
          </li>
          
          
          
          <li class="nav-item dropdown">
            <a class="nav-link dropdown-toggle" href="#" role="button" data-toggle="dropdown" aria-haspopup="true"
              aria-expanded="false">
              Tutorials
            </a>
            <div class="dropdown-menu">
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/tutorials/">All Tutorials</a>
              
              <a class="dropdown-item" href="https://embedded-systems-design.github.io/tutorials/microcontrollers/">Microcontroller Tutorials</a>
              
            </div>
          </li>
          
          
        </ul>

        
        <!-- search -->
        <form action="https://embedded-systems-design.github.io/search" class="d-flex">
        <input class="form-control me-2"  id="search-query"  name="s" type="s" placeholder="Search" aria-label="Search">
        <button class="btn btn-outline-success"  type="submit"><i class="ti-search text-dark"></i></button>
      </form>



        

        
      </div>
    </nav>
  </div>
</header>
<!-- /navigation -->


<section class="section-sm">
  <div class="container">



      <div class="row">
      <div class="col-lg-8 mx-auto">

      <div class="text-center">
<nav aria-label="breadcrumb">
  <ol class="breadcrumb">
  





<li class="breadcrumb-item"><a href="https://embedded-systems-design.github.io/">Welcome</a></li>


<li class="breadcrumb-item"><a href="https://embedded-systems-design.github.io/circuit-design/">Circuit Design</a></li>


<li class="breadcrumb-item active"><a href="https://embedded-systems-design.github.io/level-shifters/">Level shifters</a></li>

</ol>
</nav>
</div>






        <h2>Level shifters</h2>
        
        <div class="mb-1 post-meta">
          <span>By ESD Faculty</span>
          
          
          
        </div>
        <ul class="list-inline">
          
          <li class="list-inline-item mb-3 mr-2 mt-1">
          <a class="d-block p-2 bg-primary text-white" href="/tags/circuit-design"
            class="text-primary">Circuit design</a>
          </li>
          <li class="list-inline-item mb-3 mr-2 mt-1">
          <a class="d-block p-2 bg-primary text-white" href="/tags/level-shifters"
            class="text-primary">Level shifters</a>
          </li>
        </ul>
        
        <div class="content mb-5">
          <h2 id="introduction-what-is-a-level-shifter">Introduction: What is a level shifter?</h2>
<p>A level shifter either shifts the voltage of a data line up or down depending on what your circuit entails.</p>
<h2 id="why">Why?</h2>
<p>Integrated circuit powered at different voltage levels often need to be used together within a single PCB.  This can be due to part availability, to ensure compatibility with older chips or systems, or due to specified communication protocols.  In any regard, the specifications of individual chips may make it impossible to use the same <em>logic</em> levels between the two ICs without stepping up or stepping down the voltage level.</p>
<p>The most common type of level shifters are ones that shift 5v logic down to 3.3v logic. If a level shifters are not used, the receiver of the logic will be irreparably damaged. If you do not know if you need this, check your data sheet! Look for a phrase such as &ldquo;3.3v tolerant&rdquo;, or check the GPIO absolute maximum ratings to see if pins are able to receive voltages higher than the supply voltage.</p>
<p>In the following sections we will discuss a number of options for stepping signal voltages up or down.  The following options will be discussed:</p>
<ul>
<li>Voltage dividers (Step down)</li>
<li>Zener diodes (Step down)</li>
<li>Transistors</li>
<li>Level shift ICs</li>
</ul>
<h2 id="voltage-divider">Voltage divider</h2>
<p>
<table>
<thead></thead>
<tr><th><div class="text-center">
  <a href="dropdown-voltage-divider.png"><img src="dropdown-voltage-divider.png" alt="Voltage divider"  style="max-width:80%; max-height:200px; width:auto; height: auto; text-align:center;"/></a>
</div></th></tr>
<tbody>
<tr><td><div style="text-align:center;">Voltage divider</div></td></tr>
</tbody>
</table>

</p>
<p>The easiest way to shift voltages down is to create a voltage divider, as seen above. This is the easiest and cheapest way to construct a low power level shifter and will be adequate for most projects. A good way to calculate this is use V=IR.</p>
<p>In the above figure we use the equation V=IR twice.  First, we find the current running through R5 and R6 by taking 5V/(1.8k + 3.3k) = .982mA.  We then use that current to determine the voltage across R6, with .000982*3300=3.23V.</p>
<p>The most important part of selecting the right resistances is to ensure that the current being output from any pin is lower than the rated output current from the transmitting device&rsquo;s datasheet.</p>
<h2 id="zener-diode">Zener Diode</h2>
<p>
<table>
<thead></thead>
<tr><th><div class="text-center">
  <a href="dropdown-zener.png"><img src="dropdown-zener.png" alt="Zener Diode"  style="max-width:80%; max-height:200px; width:auto; height: auto; text-align:center;"/></a>
</div></th></tr>
<tbody>
<tr><td><div style="text-align:center;">Zener Diode</div></td></tr>
</tbody>
</table>

</p>
<p>A Zener diode is a special diode whose reverse breakdown voltage is specially tuned to be used for special cases.  Zener diodes can be purchased with a wide variety of breakdown voltages, including 3.3V.  The circuit above shows the zener diode placed below a resistor, R7, which is used to limit current across the diode.  You will also notice that the diode is placed in &ldquo;reverse&rdquo; from what a normal diode would be; this means that whenever a voltage higher than 3.3V (for this particular diode) is present, the diode will enter &ldquo;reverse breakdown&rdquo; and permit current to pass through it.  Care must be taken to select a resistance for R7 that does not permit too much current to pass over the diode or from the IC output pin, while permitting enough current to fully activate the diode in breakdown.</p>
<h2 id="transistor-based-level-shifters">Transistor-based level shifters</h2>
<p>
<table>
<thead></thead>
<tr><th><div class="text-center">
  <a href="dropdown-step-down-bjt.png"><img src="dropdown-step-down-bjt.png" alt="Step-Down BJT"  style="max-width:80%; max-height:200px; width:auto; height: auto; text-align:center;"/></a>
</div></th></tr>
<tbody>
<tr><td><div style="text-align:center;">Step-Down BJT</div></td></tr>
</tbody>
</table>

</p>
<p>BJT transistors can also be used to step up or step down voltages.  While a single NPN transistor can be used to shift logic levels, a single stage will also &ldquo;invert&rdquo; the logic signal, making logic-high low and logic-low high.  The solution to this is to use two sequential transistor stages.  This has the effect of inverting the signal twice while changing the voltage level in the process.  Depending on the supply voltage used above the transistors, the voltage output can go up or down.</p>
<p>
<table>
<thead></thead>
<tr><th><div class="text-center">
  <a href="dropdown-step-up-bjt.png"><img src="dropdown-step-up-bjt.png" alt="Step-Up BJT"  style="max-width:80%; max-height:200px; width:auto; height: auto; text-align:center;"/></a>
</div></th></tr>
<tbody>
<tr><td><div style="text-align:center;">Step-Up BJT</div></td></tr>
</tbody>
</table>

</p>
<p>The issue with all the above solutions, however, becomes apparent when a high number of signals need to be shifted.  The above solutions require a number of parts per signal line, which can increase the complexity of the schematic and system, as well as raise the cost.  This is apparent in the case of bi-directional UART communication, where one seral line must be shifted up and the other line down.</p>
<h2 id="level-sifting-ics">Level sifting ICs</h2>
<p>A number of level-shifting IC&rsquo;s are available, which help address the problems stated above.  For a level shifting IC you need to look at the data sheet to make sure it is acceptable for your usage. Make sure it can handle both voltages before you commit to it. A good example is the LSF0102-Q1. This was chosen as one of its primary bidirectional functions is 3v-5v which is extremely common.</p>
<p><a href="https://www.ti.com/lit/ds/symlink/lsf0102-q1.pdf?HQS=dis-dk-null-digikeymode-dsf-pf-null-wwe&amp;ts=1618807473804">Data Sheet</a></p>
<p>This specific IC has 2 level shifting channels. You may want more, so check your project before purchase. It is recommended to find an IC with a typical application section as the usage of the pins of some ICs are not immediately clear. This specific IC needs its EN pulled to GND to enable the input, and since all data pins are inputs, it essentially turns off the chip. You then have your A and B lanes, do not mix them up. A1 and A2 are both inputs and outputs on the same line. This is where you put your data lines. Then to change how the IC shifts the voltage you will need to calculate the voltages that need to be on the vref pins for that specific ic. A good way to get those voltages is using the voltage divider seen in Figure 1.</p>
<h2 id="comparison">Comparison</h2>
<p>A number of these solutions have been compared in Cadence&rsquo;s PSPICE module.  As you can see, they all produce comparable results.</p>
<p>
<table>
<thead></thead>
<tr><th><div class="text-center">
  <a href="dropdown.png"><img src="dropdown.png" alt="Schematic"  style="max-width:80%; max-height:200px; width:auto; height: auto; text-align:center;"/></a>
</div></th></tr>
<tbody>
<tr><td><div style="text-align:center;">Schematic</div></td></tr>
</tbody>
</table>

</p>
<p>
<table>
<thead></thead>
<tr><th><div class="text-center">
  <a href="dropdown-results.png"><img src="dropdown-results.png" alt="Results"  style="max-width:80%; max-height:200px; width:auto; height: auto; text-align:center;"/></a>
</div></th></tr>
<tbody>
<tr><td><div style="text-align:center;">Results</div></td></tr>
</tbody>
</table>

</p>
<h2 id="external-resources">External Resources</h2>
<ul>
<li><a href="https://itp.nyu.edu/physcomp/lessons/electronics/level-shifting/">https://itp.nyu.edu/physcomp/lessons/electronics/level-shifting/</a></li>
</ul>

        </div>

        
        
      </div>
    </div>
  </div>
</section>



<footer class="text-capitalize">
  <div class="container">
    <div class="row justify-content-center">
      <div class="col-12 border-top py-4 text-center ">
      </div>
      
      <div class="col-lg-4 col-sm-6 mb-5 text-center">
        <h6 class="mb-4">Contact Me</h6>
        <ul class="list-unstyled">
          
          
          <li class="mb-3"><i class="ti-location-pin mr-3 text-primary"></i>Arizona State University</li>
          
          
          </li>
        </ul>
      </div>
      
      <div class="col-lg-4 col-sm-6 mb-5 text-center">
        <h6 class="mb-4">External</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://github.com/embedded-systems-design">github</a></li>
          
        </ul>
      </div>
      <div class="col-lg-4 col-sm-6 mb-5 text-center">
        <h6 class="mb-4">Quick Links</h6>
        <ul class="list-unstyled">
          
          <li class="mb-3"><a class="text-dark" href="https://embedded-systems-design.github.io/about/">About</a></li>
          
          <li class="mb-3"><a class="text-dark" href="https://embedded-systems-design.github.io/contact/">Contact</a></li>
          
        </ul>
      </div>
      <div class="col-12 mb-5 text-center">
        <a href="https://embedded-systems-design.github.io"><img src="https://embedded-systems-design.github.io/images/esd6.png" alt="Embedded Systems Design"></a>
      </div>

      <div class="col-12 mb-5 text-center">
        <p>|  copyright © 2022 Shawn Jordan and Dan Aukes.  All Rights Reserved.  |</p>
        
        
        
        
        <p><a href="https://github.com/embedded-systems-design/project_esd_website_source/edit/main/content/circuit-design/level-shifters/index.md"> Edit this Page</a></p>
        
        
        
      </div>

    </div>
  </div>
</footer>

<script>
  var indexURL = "https://embedded-systems-design.github.io/index.json"
</script>

<!-- JS Plugins -->

<script src="https://embedded-systems-design.github.io/plugins/jQuery/jquery.min.js"></script>

<script src="https://embedded-systems-design.github.io/plugins/bootstrap/bootstrap.min.js"></script>

<script src="https://embedded-systems-design.github.io/plugins/slick/slick.min.js"></script>

<script src="https://embedded-systems-design.github.io/plugins/venobox/venobox.min.js"></script>

<script src="https://embedded-systems-design.github.io/plugins/search/fuse.min.js"></script>

<script src="https://embedded-systems-design.github.io/plugins/search/mark.js"></script>

<script src="https://embedded-systems-design.github.io/plugins/search/search.js"></script>

<!-- Main Script -->

<script src="https://embedded-systems-design.github.io/js/script.min.js"></script>




</body>
</html>
